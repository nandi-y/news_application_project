{% extends "news_app/base.html" %}

{% block title %}{% if object %}Edit{% else %}Create{% endif %} Article{% endblock %}

{% block content %}
<h1 class="mb-4">{% if object %}Edit{% else %}Create{% endif %} Article</h1>

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="mb-3">
        {{ form.title.label_tag }}
        {{ form.title }}
        {% if form.title.errors %}
        <div class="invalid-feedback d-block">
            {{ form.title.errors }}
        </div>
        {% endif %}
    </div>
    <div class="mb-3">
        {{ form.content.label_tag }}
        {{ form.content }}
        {% if form.content.errors %}
        <div class="invalid-feedback d-block">
            {{ form.content.errors }}
        </div>
        {% endif %}
    </div>
    {% if form.publisher %}
    <div class="mb-3">
        {{ form.publisher.label_tag }}
        {{ form.publisher }}
        {% if form.publisher.errors %}
        <div class="invalid-feedback d-block">
            {{ form.publisher.errors }}
        </div>
        {% endif %}
    </div>
    {% endif %}
    {% if form.status %}
    <div class="mb-3">
        {{ form.status.label_tag }}
        {{ form.status }}
        {% if form.status.errors %}
        <div class="invalid-feedback d-block">
            {{ form.status.errors }}
        </div>
        {% endif %}
    </div>
    {% endif %}
    <div class="mb-3">
        {{ form.featured_image.label_tag }}
        {{ form.featured_image }}
        {% if form.featured_image.errors %}
        <div class="invalid-feedback d-block">
            {{ form.featured_image.errors }}
        </div>
        {% endif %}
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
    <a href="{% if object %}{{ object.get_absolute_url }}{% else %}{% url 'article_list' %}{% endif %}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}