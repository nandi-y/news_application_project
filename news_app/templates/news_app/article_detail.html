{% extends "news_app/base.html" %}

{% block title %}{{ article.title }}{% endblock %}

{% block content %}
<div class="card mb-4">
    {% if article.featured_image %}
    <img src="{{ article.featured_image.url }}" class="card-img-top" alt="{{ article.title }}">
    {% endif %}
    <div class="card-body">
        <h1 class="card-title">{{ article.title }}</h1>
        <p class="text-muted">
            By {% for author in article.authors.all %}{{ author.username }}{% if not forloop.last %}, {% endif %}{% endfor %}
            {% if article.publisher %} | Published by {{ article.publisher.name }}{% endif %}
            <br>
            {{ article.created_at|date:"F j, Y" }} | Status: {{ article.get_status_display }}
            {% if article.approved_by %} | Approved by {{ article.approved_by.username }}{% endif %}
        </p>
        <div class="card-text">{{ article.content|linebreaks }}</div>
    </div>
    <div class="card-footer">
        {% if user.is_authenticated and user in article.authors.all %}
        <a href="{% url 'article_update' slug=article.slug %}" class="btn btn-secondary">Edit</a>
        <a href="{% url 'article_delete' slug=article.slug %}" class="btn btn-danger">Delete</a>
        {% endif %}
        <a href="{% url 'article_list' %}" class="btn btn-primary">Back to Articles</a>
    </div>
</div>
{% endblock %}